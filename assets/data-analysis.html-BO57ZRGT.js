import{_ as t,c as a,d as n,o as i}from"./app-B7Si1d5O.js";const o="/spacialist-docs/assets/main-window-panes-UeKcZ25n.png",s={};function r(l,e){return i(),a("div",null,[...e[0]||(e[0]=[n('<h1 id="data-analysis-tool" tabindex="-1"><a class="header-anchor" href="#data-analysis-tool"><span>Data Analysis Tool</span></a></h1><p>The data analysis tool provides a user interface to view, filter and aggregate data inside a Spacialist instance.</p><h2 id="main-window" tabindex="-1"><a class="header-anchor" href="#main-window"><span>Main Window</span></a></h2><p>The Spacialist Data Analyzer main window as displayed below is organized into three panes:</p><ul><li><p><strong><a href="data-analysis-database-structure-pane">Database Structure Pane</a></strong>: this pane on the left (indicated with red coloring in the screenshot below) renders a tree-like, expandable view of the structure of entities in the database. Its header shows the name of the logged in user. The header also includes a button that allows reloading the database.</p></li><li><p><strong><a href="data-analysis-options-pane">Analysis Options Pane</a></strong>: this top-right pane (indicated with green coloring in the screenshot below) includes three tabs, which allow to control what kind of data is being output, what filters are defined on the data, and how properties of the output data are grouped and aggregated. In its header the pane also includes buttons to reset the analysis, and to save and load analyses to and from files, respectively.</p></li><li><p><strong><a href="data-analysis-result-pane">Result Pane</a></strong>: this bottom-right pane (indicated with blue coloring in the screenshot below) shows the analysis result upon clicking the <code>Get Result</code> button. The result pane might then show a single value, a table or a geomap, depending on the analysis options.</p></li></ul><p><img src="'+o+'" alt="Main Window Panes"></p><p>The contents and symbols in the user interface will become clear after reading the following part on how to run a data analysis.</p><h2 id="running-an-analysis" tabindex="-1"><a class="header-anchor" href="#running-an-analysis"><span>Running an Analysis</span></a></h2><h3 id="picking-an-output-object" tabindex="-1"><a class="header-anchor" href="#picking-an-output-object"><span>Picking an Output Object</span></a></h3><p>The first step when running an analysis, is deciding what kind of information shall be displayed as a result. To do so, make sure the <a href="data-analysis-options-pane#output-tab"><em>Output</em> tab</a> is selected in the <em>Analysis Options</em> pane. Then click either an entity type (bold all-caps typeface in the tree) or a property of an entity type (after expanding the properties using the <code>Show Properties</code> button) from the tree in the <em>Database Structure</em> pane.</p><p><strong>Selecting How Output is Displayed</strong></p><ul><li><p>After picking an entity type, the <em>Output</em> tab will show a dropdown with options related to how the entity data shall be displayed in the <em>Result</em> pane. Supported displays are <em>Table</em> (display a table with entities and their properties), <em>Geomap</em> (a map displaying the resulting entities as geometric shapes), and <em>Count</em> (displaying the number of resulting entities)</p></li><li><p>After picking a property, the <em>Output</em> tab shows a dropdown with different options of aggregating the value of the property, depending on the type of property. For example, picking a property of type <em>Number</em>, the dropdown will offer to show the count, minimum, maximum, sum and mean value of the property, and a distribution of values.</p></li></ul><p><strong>Hierarchical Analysis</strong></p><p>Additionally, the <em>Output</em> tab includes a checkbox labeled <em>Perform hierarchical analysis</em>, which is checked by default. When performing a hierarchical analysis, the hierarchical nesting level of the selected output object in the database structure tree is considered, and only those entities in the database that are at the same hierarchical level as the one selected in the tree will be included in the analysis. If you prefer not to run the analysis hierarchically, then all entities of the selected output object in the database will be included in the analysis regardless of their nesting level.</p><p>The selected output object will show a symbol in the <em>Output</em> column of the <em>Database Structure</em> tree to indicate the selection, e.g. <code>⊞</code>, when table output was selected.</p><h3 id="filtering-the-data" tabindex="-1"><a class="header-anchor" href="#filtering-the-data"><span>Filtering the Data</span></a></h3><p>After picking an output object, the data can be filtered before running the analysis. Filtering means to define conditions that decide whether a specific entity in the database shall be considered for the analysis or not.</p><blockquote><p><strong>Example</strong>: when entity type <em>Fundstelle</em> was selected as the output object, you may choose to analyze only those <em>Fundstelle</em> entities that cover an area of at least 5,000 square meters. To achieve this you would define a filter on the <em>Geometry</em> property.</p></blockquote><p>To define a filter, go to the <a href="data-analysis-pptions-pane#filters-tab"><em>Filters</em> tab</a> in the <em>Analysis Options</em> pane. In this tab, each defined filter covers a row in the table. To highlight a row/filter, click the row in the <em>Entity Type/Property</em> column. Then you click any property in the <em>Database Structure</em> tree. Depending on the type of the selected property, the row will then display dropdown boxes or textboxes in the remaining columns:</p><ul><li>In the <em>Value Transformation</em> column, you can define a value transformation before the filtering is applied. For instance, if a property of type <em>Geometry</em> is selected, the transformation dropdown will offer to filter the <em>Geometry Type</em>, the <em>Area</em> covered by the geometry, or its <em>WKT Representation</em>.</li><li>In the <em>Filter Operator</em> column, a dropdown offers operators that will compare the property&#39;s value to a user-defined filter value. The operators offered depend on the type of property and the value transformation selected. For instance, when selecting <em>Area</em> transformation of a geometric property, the dropdown will offer operators allowing numeric comparisons (e.g., for equality, greater than, less than, and so forth).</li><li>In the <em>Filter Value</em> column you will - for most filters - see a text box, in which you define a specific value that is used to compare the property&#39;s value to by using the defined transformation and operator.</li></ul><p>All properties with filters defined will show the symbol <code>Ұ</code> in the <em>Filter</em> column of the <em>Database Structure</em> tree. The superscript number indicates the number of filters that are defined on the property.</p><h4 id="multiple-filters" tabindex="-1"><a class="header-anchor" href="#multiple-filters"><span>Multiple Filters</span></a></h4><p>By adding more filters, you have to select how the filters are logically combined when evaluated against entities in the the database. The dropdown in the first cell of each additional filter row in the filters table usually offers to combine filters using <em>And</em> or <em>Or</em>. While running the analysis, the filters are applied one after the other in the order as present in the table.</p><blockquote><p><strong>Example</strong>: If there are three filters in the table: <code>Filter1</code> <em>Or</em> <code>Filter2</code> <em>And</em> <code>Filter3</code>. For each entity, the analysis first checks whether <code>Filter1</code> matches. If it does, <code>Filter2</code> is evaluated. Because of the <em>Or</em> conjunction, those entities where <code>Filter1</code> or <code>Filter2</code> match, continue to be evaluated. Of the remaining entities, only those where <code>Filter3</code> matches (due to the logical <em>And</em> conjunction), are finally considered for the analysis.</p></blockquote><h4 id="filters-on-table-properties" tabindex="-1"><a class="header-anchor" href="#filters-on-table-properties"><span>Filters on Table Properties</span></a></h4><p>In some databases entities may have attributes that do not have an atomic value, but a table of values. These table properties then show child properties in the <em>Database Structure</em> tree, each reflecting a column of the table property.</p><p>When defining filters for a table property, an additional logical conjunction is available in the dropdown box, which is called <em>Combined With</em>. Such a combination of filters on properties of a table makes sure that only those rows of the table are further considered for the analysis, that match the combined filters.</p><blockquote><p><strong>Example</strong>: A table property has three column properties: <em>Type</em>, <em>Count</em> and <em>Notes</em>. Having filters on <em>Type</em> and <em>Count</em> with the <em>Combined With</em> conjunction means that for each row the analysis engine checks whether both filters match. If not, the row is discarded when computing analysis results.</p></blockquote><p>The checkbox below the filter table defines, if checked, that discarded rows are ignored when computing aggregate values (see the section on Aggregates and Grouping)</p><h4 id="filters-on-ancestors-or-descendants" tabindex="-1"><a class="header-anchor" href="#filters-on-ancestors-or-descendants"><span>Filters on Ancestors or Descendants</span></a></h4><p>Filters may not only be defined for the output entity type&#39;s properties. Filters may also be defined for properties of entity types that are above or below the output entity type in terms of hierarchical nesting.</p><blockquote><p><strong>Example</strong>: Say a database holds <em>Countries</em> as top-level entity types, and as child entity types of countries it stores <em>Cities</em>. Now we select <em>Cities</em> as the output object. We can then define a filter on a property of the parent entity type <em>Country</em>, e.g. that the country&#39;s GDP per capita is lower than $10,000. This way we can get a list of all cities that lie in such countries.</p></blockquote><h3 id="aggregates-and-grouping" tabindex="-1"><a class="header-anchor" href="#aggregates-and-grouping"><span>Aggregates and Grouping</span></a></h3><p>If tabular result output was selected, the <em>Analysis Options</em> pane shows an additional <a href="data-analysis-options-pane#aggregates-tab"><em>Aggregates</em> tab</a>. In this tab you may optionally define which properties of the resulting table shall be aggregated and/or grouped.</p><p>Grouping means that a column of the result table is reduced to its unique values. Grouping can be applied to multiple columns, whereas the result table is then reduced to unique combinations of all grouped properties.</p><p>Aggregation means that all values in a column of the result table are aggregated into one single value by applying an aggregation function. Typical aggregation functions are counting, identifying the minimum value, computing the sum of all values, and so forth, depending on the type of property.</p><p>By combining grouping and aggregation, the resulting table of entities can be reduced to generate all sorts of statistics.</p><blockquote><p><strong>Example</strong>: Say a database holds <em>Countries</em> as top-level entity types, and as child entity types of countries it stores <em>Cities</em>. Now we select <em>Cities</em> as the output object. We now group by the city property <em>Governing Party</em> and aggregate the property <em>Population</em> using the <em>Mean value</em> function. This way we get a sortable table showing all distinct governing parties of any city in the first column, and the average population of the citites governed by each party in the second column.</p></blockquote><p>All properties that are grouped will show the symbol <code>☍</code> in the <em>Aggregate</em> column of the <em>Database Structure</em> tree. All properties that are aggregated will show a symbol in the same column. The symbol for aggregation reflects the type of aggregation function selected in respective dropdown box in the <em>Aggregates</em> tab (e.g. <code>∑</code> for sum).</p><h3 id="working-with-analysis-results" tabindex="-1"><a class="header-anchor" href="#working-with-analysis-results"><span>Working with Analysis Results</span></a></h3><p>Clicking the <code>Get Results</code> button in the <em>Results</em> pane will trigger the analysis and display the results. The <em>Result</em> pane can be toggled to display full screen by clicking the <code>◨ Toggle Fullscreen</code> button. For table and geomap result displays, clicking the <code>⏢ GeoJSON</code> button will download a GeoJSON file representing the geometric shapes attached to the entities in the result (if any). These GeoJSON files can be imported in various GIS systems like QGIS, ArcGIS, and in frameworks like Leaflet or OpenLayers.</p><h4 id="table-results" tabindex="-1"><a class="header-anchor" href="#table-results"><span>Table Results</span></a></h4><p>When results are displayed as a table, additional buttons may appear in the <em>Results</em> pane above the table:</p><ul><li><code>⎘ Copy</code>: Copy table to clipboard in tab-separated values (TSV) format. Note this will not work with newlines or tabulators in cell values</li><li><code>▤ CSV</code>: Download the result table as a comma-separated values (CSV) file</li><li><code>▦ Excel</code>: Download the result table as an Excel file</li><li><code>⎙ Print</code>: Prepare the table for printing in the browser</li><li><code>▥ Columns</code>: Allows to pick which columns shall be displayed or hidden in the table</li></ul><p>Just above the table there are additional information or interaction items:</p><ul><li><em>Paging</em>: The tables are always paginated, i.e. each page display is limited to a number of rows. You can select the number of rows to display in each page and you can also browse through the pages (if there are multiple pages).</li><li><em>Search</em>: This textbox allows you to enter search term. The table is then filtered to those rows in which any cell contains the search term.</li></ul><p>Clicking in the table header cells allows to sort the table either in ascending or descending order. Additional sort criteria can be added by holding down the <code>Shift</code> key while clicking on a header cell.</p><p><a href="data-analysis-result-pane#table">→ Read more on tabular results</a></p><h4 id="geomap-results" tabindex="-1"><a class="header-anchor" href="#geomap-results"><span>Geomap Results</span></a></h4><p>If results are displayed as a geomap and there are entities in the result that have geographical data attached, then a map will show the attached shapes (points, polygons, or whatever type of geometry is used as geographical data). Each shape represents one entity. By clicking a shape in the map, a popup window will show the properties of the clicked entity.</p><p><a href="data-analysis-result-pane#geomap">→ Read more on geomap results</a></p><h4 id="entity-details-browser" tabindex="-1"><a class="header-anchor" href="#entity-details-browser"><span>Entity Details Browser</span></a></h4><p>The cells in a tabular display or the popups in a geomap result might contain buttons in some cases:</p><ul><li>A button with a <code>⍟</code> symbol followed by the name or ID of an entity represents an entity. When clicked, the details of the entity will show up in an <a href="data-analysis-result-pane#entity-details-browser"><em>Entity Details Browser</em></a> popup window.</li><li>A button labeled <code>⊞ Show</code> represents a table property of the entity. When clicked, the table will be displayed in a popup window.</li></ul><h2 id="saving-and-loading-an-analysis" tabindex="-1"><a class="header-anchor" href="#saving-and-loading-an-analysis"><span>Saving and Loading an Analysis</span></a></h2><p>At any time, you may click the <code>⇩ Save</code> and <code>⇪ Load</code> buttons next to the <em>Analysis Options</em> heading. When saving an analysis, the current options are stored to a file, which is downloaded automatically by the browser. To restore saved analysis options, click the <code>⇪ Load</code> button and select the downloaded analysis file.</p><p>Note that saving and loading only affects the analysis options, not the result of the analysis. That is, when an analysis is loaded the tool will restore the stored analysis options in the user interface and then automatically run the analysis on the current live data.</p><h2 id="refreshing-the-database" tabindex="-1"><a class="header-anchor" href="#refreshing-the-database"><span>Refreshing the Database</span></a></h2><p>Spacialist Data Analyzer works with a cached local copy of a subset of the database to speed up analysis. The date and/or time of last refresh is indicated in the header of the pane. By clicking the <code>↻</code> button in the header of the <em>Database Structure</em> pane, the tool will refresh the local database cache based on current live data from the database. This process may take a couple of seconds.</p><p>If the data model of your database contains computed properties, the tool will start processing those computed properties in the background. This may take several minutes, depending on the complexity of computed properties and the number of entities in the database. However, most of the data will be available for analysis during this background processing. During background processing the status line next to the <code>↻</code> button will read &quot;Processing in background&quot;.</p>',60)])])}const d=t(s,[["render",r],["__file","data-analysis.html.vue"]]),p=JSON.parse('{"path":"/user/data-analysis.html","title":"Data Analysis Tool","lang":"en-US","frontmatter":{},"git":{"updatedTime":1743511753000,"contributors":[{"name":"Severino","username":"Severino","email":"severin.opel@hotmail.com","commits":1,"url":"https://github.com/Severino"},{"name":"Michael Derntl","username":"","email":"michael.derntl@uni-tuebingen.de","commits":1}],"changelog":[{"hash":"947bfeb755c80ba0e22e406e10bf7c57b1034b73","time":1743511753000,"email":"michael.derntl@uni-tuebingen.de","author":"Michael Derntl","message":"pages and images for the data analysis tool"},{"hash":"b8b8b7c4d202d2fcfbb8219815446cac023c7ac9","time":1730803544000,"email":"severin.opel@hotmail.com","author":"Severino","message":"Added a data-analysis page"}]},"filePathRelative":"user/data-analysis.md"}');export{d as comp,p as data};
