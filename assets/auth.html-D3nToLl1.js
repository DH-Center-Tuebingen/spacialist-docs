import{_ as t,c as a,d as o,o as i}from"./app-B7Si1d5O.js";const n={};function s(r,e){return i(),a("div",null,[...e[0]||(e[0]=[o('<h1 id="authentication" tabindex="-1"><a class="header-anchor" href="#authentication"><span>Authentication</span></a></h1><p>Spacialist and Thesaurex use the regular Laravel authentication in combination with the <a href="https://laravel.com/docs/sanctum" target="_blank" rel="noopener noreferrer">Laravel Sanctum</a>. Sanctum adds a CSRF-Token and with it the protection from XSS attacks. Furthermore it has the potential to access the api from Spacialist from any other application, by generating an access token with it&#39;s own priverleges, which may be interesting for future developments.</p><h2 id="cookies" tabindex="-1"><a class="header-anchor" href="#cookies"><span>Cookies</span></a></h2><p>This setup leaves the application with three cookies that are managed by Laravel:</p><ol><li>REMEMBER The remember_web token keeps the user logged in, the token is managed in the database and updated on any request, if the request contains an invalid token, the user is logged out immediately.</li><li>XSRF-TOKEN: A token used in the <em>Laravel Sanctum</em> system to prevent XSS attacks</li><li>SESSION: A session cookie from the <em>Laravel Sanctum</em> system</li></ol><p>To prevent a collision of the different cookies on the same domain, Spacialist takes some measures to separate them:</p><h2 id="unique-named-cookies" tabindex="-1"><a class="header-anchor" href="#unique-named-cookies"><span>Unique Named Cookies</span></a></h2><p>The XSRF-TOKEN and SESSION token get unique names depending on environment the environment. Those names try to conform the existing naming convention of those cookies:</p><table><thead><tr><th>Type</th><th>Default Name</th><th>Unique Name in Spacialist or Thesaurex</th></tr></thead><tbody><tr><td>XSRF</td><td>XSRF-TOKEN</td><td>XSRF-TOKEN-APP-NAME-SPACIALIST</td></tr><tr><td>SESSION</td><td>app_name_session</td><td>app_name_spacialist_session</td></tr></tbody></table><h2 id="cookie-path" tabindex="-1"><a class="header-anchor" href="#cookie-path"><span>Cookie Path</span></a></h2><p>An alternative to the unique name is to restrict the cookies to a specific path. However, as the current dual nature of those cookies, we need to deal with the REMEMBER token. This is a token that is managed inside the user table for every user and requires to be present at every request. That leaves us with the situation, that when multiple apps - Spacialist and ThesauRex to be specific - must share this cookie to not get logged out when an outdated cookie is sent. So if there are multiple projects running on the same domain, the path variable <em>APP_PATH</em> must be set to the root of both application.</p>',11)])])}const c=t(n,[["render",s],["__file","auth.html.vue"]]),d=JSON.parse('{"path":"/developer/framework/auth.html","title":"Authentication","lang":"en-US","frontmatter":{},"git":{"updatedTime":1760517967000,"contributors":[{"name":"Severino","username":"Severino","email":"severin.opel@hotmail.com","commits":1,"url":"https://github.com/Severino"}],"changelog":[{"hash":"0fef0250603ad4ea3cbb60188878e1d40b08c633","time":1760517967000,"email":"severin.opel@hotmail.com","author":"Severino","message":"Added cookies to docs"}]},"filePathRelative":"developer/framework/auth.md"}');export{c as comp,d as data};
